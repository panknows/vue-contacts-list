(function(){"use strict";var t={5774:function(t,e,n){n(6992),n(8674),n(9601),n(7727);var a=n(8935),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],i=n(1001),s={},c=(0,i.Z)(s,r,o,!1,null,null,null),l=c.exports,u=n(2809),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-view")},m=[],f={name:"IndexView"},h=f,p=(0,i.Z)(h,d,m,!1,null,null,null),v=p.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{staticClass:"pt-5"},[n("b-row",{attrs:{cols:"1"}},[n("b-col",[n("b-button",{attrs:{variant:"outline-primary",size:"lg",block:""},on:{click:t.toggleCreateContactModal}},[t._v(" Add contact ")])],1),n("b-col",{staticClass:"mt-3"},[n("VSearch",{attrs:{items:t.contacts.data,"search-by-property":"name"},on:{active:function(e){return t.search.isActive=e}},model:{value:t.search.data,callback:function(e){t.$set(t.search,"data",e)},expression:"search.data"}})],1),n("b-col",{staticClass:"mt-3"},[n("VContactsList",{attrs:{items:t.contactsItems}})],1)],1),n("b-modal",{attrs:{"hide-footer":""},model:{value:t.isModalCreateOpen,callback:function(e){t.isModalCreateOpen=e},expression:"isModalCreateOpen"}},[n("VContactForm",{ref:"form",on:{submit:t.onSubmitCreateContact},scopedSlots:t._u([{key:"footer",fn:function(){return[n("div",{staticClass:"mt-4"},[n("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Create")]),n("b-button",{staticClass:"ml-2",attrs:{variant:"secondary"},on:{click:t.toggleCreateContactModal}},[t._v(" Cancel ")])],1)]},proxy:!0}])})],1)],1)},C=[],g=n(3019),_=(n(4916),n(4765),n(4665)),y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[n("div",[n("b-form-group",{attrs:{label:"Name:","label-for":"name"}},[n("b-form-input",{attrs:{id:"name",autofocus:"",placeholder:"Enter name",required:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),n("div",{staticClass:"border-bottom mb-2 border-primary"},t._l(t.form.phones,(function(e,a){return n("b-form-group",{key:a,attrs:{label:"Phone:","label-for":"phone"}},[n("b-form-input",{attrs:{id:"phone",placeholder:"Enter phone"},on:{input:function(n){return t.onPhoneInput(e)}},model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"item.value"}}),t.form.phones.length>1&&a+1!==t.form.phones.length?n("b-button",{staticClass:"mt-2",attrs:{variant:"outline-danger",size:"sm"},on:{click:function(n){return t.removeField(e)}}},[n("BIconX"),t._v(" Remove field ")],1):t._e()],1)})),1),n("div",{staticClass:"border-bottom mb-2 border-primary"},t._l(t.form.emails,(function(e,a){return n("b-form-group",{key:a,attrs:{label:"Email:","label-for":"email-"+a}},[n("b-form-input",{attrs:{id:"email-"+a,type:"email",placeholder:"Enter email"},on:{input:function(n){return t.onEmailInput(e)}},model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"item.value"}}),t.form.emails.length>1&&a+1!==t.form.emails.length?n("b-button",{staticClass:"mt-2",attrs:{variant:"outline-danger",size:"sm"},on:{click:function(n){return t.removeField(e)}}},[n("BIconX"),t._v(" Remove field ")],1):t._e()],1)})),1),n("div",t._l(t.form.addresses,(function(e,a){return n("b-form-group",{key:a,attrs:{label:"Address:","label-for":"address-"+a}},[n("b-form-input",{attrs:{id:"address-"+a,placeholder:"Enter address"},on:{input:function(n){return t.onAddressInput(e)}},model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"item.value"}}),t.form.addresses.length>1&&a+1!==t.form.addresses.length?n("b-button",{staticClass:"mt-2",attrs:{variant:"outline-danger",size:"sm"},on:{click:function(n){return t.removeField(e)}}},[n("BIconX"),t._v(" Remove field ")],1):t._e()],1)})),1),t._t("footer",(function(){return[n("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Submit")])]}))],2)},Z=[],k=n(4479),E=(n(2222),n(7327),n(1539),n(7054)),x=n(2751),w=n(6133),A=(n(2262),n(4506),{email:"email",phone:"phone",address:"address"}),I=(0,x.Z)((function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(0,w.Z)(this,t),this.id=e,this.type=n,this.value=null}));function S(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t.at(-1)||{},a=n.id,r=void 0===a?0:a,o=n.type,i=void 0===o?e:o,s=r+1;return new I(s,i)}var $={name:null,phones:[],emails:[],addresses:[]},D={name:"VContactForm",components:{BIconX:E.uR$},props:{initialValues:{type:Object,default:function(){return{}}}},data:function(){return{form:(0,g.Z)((0,g.Z)({},$),this.initialValues)}},mounted:function(){this.initFields()},methods:{onSubmit:function(){this.$emit("submit",(0,g.Z)({},this.form))},reset:function(){this.form=(0,g.Z)({},$)},addField:function(t){var e=S(t);switch(e.type){case A.phone:this.form.phones=[].concat((0,k.Z)(this.form.phones),[(0,g.Z)({},e)]);break;case A.address:this.form.addresses=[].concat((0,k.Z)(this.form.addresses),[(0,g.Z)({},e)]);break;case A.email:this.form.emails=[].concat((0,k.Z)(this.form.emails),[(0,g.Z)({},e)]);break;default:break}},initFields:function(){var t=S(this.form.phones||[],A.phone),e=S(this.form.emails||[],A.email),n=S(this.form.addresses||[],A.address);this.form.phones=[].concat((0,k.Z)(this.form.phones),[(0,g.Z)({},t)]),this.form.addresses=[].concat((0,k.Z)(this.form.addresses),[(0,g.Z)({},n)]),this.form.emails=[].concat((0,k.Z)(this.form.emails),[(0,g.Z)({},e)])},onPhoneInput:function(t){t.id===this.form.phones[this.form.phones.length-1].id&&this.addField(this.form.phones)},onEmailInput:function(t){t.id===this.form.emails[this.form.emails.length-1].id&&this.addField(this.form.emails)},onAddressInput:function(t){t.id===this.form.addresses[this.form.addresses.length-1].id&&this.addField(this.form.addresses)},removeField:function(t){var e=t.id,n=t.type;switch(n){case A.phone:var a=this.form.phones.filter((function(t){return t.id!==e}));this.form=(0,g.Z)((0,g.Z)({},this.form),{},{phones:(0,k.Z)(a)});break;case A.email:var r=this.form.emails.filter((function(t){return t.id!==e}));this.form=(0,g.Z)((0,g.Z)({},this.form),{},{emails:(0,k.Z)(r)});break;case A.address:var o=this.form.addresses.filter((function(t){return t.id!==e}));this.form=(0,g.Z)((0,g.Z)({},this.form),{},{addresses:(0,k.Z)(o)});break;default:break}}}},O=D,M=(0,i.Z)(O,y,Z,!1,null,null,null),B=M.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-list-group",[t._l(t.items,(function(e,a){return[n("b-list-group-item",{key:a,staticClass:"d-flex align-items-center",attrs:{to:{name:"contact",params:{id:e.id}}}},[n("b-avatar",{staticClass:"mr-3",attrs:{variant:"primary",text:e.name[0]}}),t._v(" "+t._s(e.name)+" ")],1)]}))],2)},T=[],V={name:"VContactsList",props:{items:{type:Array,default:function(){return[]}}}},q=V,N=(0,i.Z)(q,F,T,!1,null,null,null),P=N.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-form-input",{attrs:{placeholder:"Search by name",type:"search",debounce:"200",size:"lg"},model:{value:t.request,callback:function(e){t.request=e},expression:"request"}}),t.isActive?n("div",{staticClass:"mt-2"},[n("div",[n("h5",[t._v(" Searching results: «"+t._s(t.request)+"» ")])]),n("div",{staticClass:"mt-2 d-flex align-items-center"},[t._v(" Found: "+t._s(t.value.length)+" "),n("b-button",{staticClass:"ml-2",attrs:{pill:"",variant:"outline-danger",size:"sm"},on:{click:t.clear}},[n("BIconX")],1)],1)]):t._e()],1)},L=[],z=(n(3210),n(5306),n(6699),n(2023),{name:"VSearch",components:{BIconX:E.uR$},props:{value:{type:Array,default:function(){return[]}},items:{type:Array,default:function(){return[]}},searchByProperty:{type:String,default:null}},data:function(){return{request:""}},mounted:function(){var t,e=null===(t=this.$route.query)||void 0===t?void 0:t.search;e&&(this.request=e)},watch:{request:function(t){var e;this.search();var n=null===(e=this.$route.query)||void 0===e?void 0:e.search,a=t.trim();a!==n&&this.$router.replace((0,g.Z)((0,g.Z)({},this.$route),{},{query:{search:a}}))},isActive:function(t){this.$emit("active",t)}},computed:{isActive:function(){return Boolean(this.request)}},methods:{search:function(){var t=this,e=this.request.trim().toLowerCase();if(""!==e){var n=this.items.filter((function(n){var a=(t.searchByProperty?n[t.searchByProperty]:n).toLowerCase();return a.includes(e||null)}));this.$emit("input",n)}},clear:function(){this.request=""}}}),X=z,R=(0,i.Z)(X,j,L,!1,null,null,null),G=R.exports,J={name:"ContactsView",components:{VContactsList:P,VSearch:G,VContactForm:B},data:function(){return{search:{data:[],isActive:!1},isModalCreateOpen:!1}},computed:(0,g.Z)((0,g.Z)({},(0,_.Se)({contacts:"getContacts"})),{},{contactsItems:function(){return(this.search.isActive?this.search.data:this.contacts.data)||[]}}),methods:(0,g.Z)((0,g.Z)({},(0,_.nv)({add:"addContact"})),{},{toggleCreateContactModal:function(){this.isModalCreateOpen=!this.isModalCreateOpen},onSubmitCreateContact:function(t){this.add((0,g.Z)({},t)),this.$refs.form.reset(),this.toggleCreateContactModal()}})},H=J,K=(0,i.Z)(H,b,C,!1,null,null,null),Q=K.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{staticClass:"pt-5"},[n("b-row",{attrs:{"align-h":"between"}},[n("b-col",{attrs:{cols:"auto"}},[n("b-button",{attrs:{variant:"outline-primary"},on:{click:function(e){return t.$router.go(-1)}}},[n("BIconArrowLeft"),t._v(" Back ")],1)],1),n("b-col",{attrs:{cols:"auto"}},[n("b-button",{attrs:{variant:"outline-primary"},on:{click:t.toggleEditMode}},[t._v(" Edit ")]),n("b-button",{staticClass:"ml-3",attrs:{variant:"outline-danger"},on:{click:t.deleteContact}},[t._v("Delete")])],1)],1),t.contactData?n("b-row",{staticClass:"mt-5",attrs:{"align-v":"center"}},[n("b-col",{attrs:{cols:"auto"}},[n("b-avatar",{attrs:{variant:"primary",text:t.contactData.name[0],size:"150"}})],1),n("b-col",[n("h2",[t._v(" "+t._s(t.contactData.name)+" ")])])],1):t._e(),t.contactData.phones.length?n("b-list-group",{staticClass:"mt-4"},t._l(t.contactData.phones,(function(e){return n("b-list-group-item",{key:e.id,staticClass:"d-flex align-items-center border-right-0 border-left-0",attrs:{href:"tel:"+e.value}},[n("BIconTelephone",{staticClass:"mr-3",staticStyle:{width:"30px",height:"30px"}}),t._v(" "+t._s(e.value)+" ")],1)})),1):t._e(),t.contactData.emails.length?n("b-list-group",{staticClass:"mt-4"},t._l(t.contactData.emails,(function(e){return n("b-list-group-item",{key:e.id,staticClass:"d-flex align-items-center border-right-0 border-left-0",attrs:{href:"mailto:"+e.value}},[n("BIconEnvelope",{staticClass:"mr-3",staticStyle:{width:"30px",height:"30px"}}),t._v(" "+t._s(e.value)+" ")],1)})),1):t._e(),t.contactData.addresses.length?n("b-list-group",{staticClass:"mt-4"},t._l(t.contactData.addresses,(function(e){return n("b-list-group-item",{key:e.id,staticClass:"d-flex align-items-center border-right-0 border-left-0"},[n("BIconBuilding",{staticClass:"mr-3",staticStyle:{width:"30px",height:"30px"}}),t._v(" "+t._s(e.value)+" ")],1)})),1):t._e(),t.isEditMode?[n("b-modal",{attrs:{"hide-footer":""},model:{value:t.isEditMode,callback:function(e){t.isEditMode=e},expression:"isEditMode"}},[n("VContactForm",{ref:"editForm",attrs:{"initial-values":t.editForm},on:{submit:t.onEditSubmit},scopedSlots:t._u([{key:"footer",fn:function(){return[n("div",{staticClass:"mt-4"},[n("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Edit")]),n("b-button",{staticClass:"ml-2",attrs:{variant:"secondary"},on:{click:t.toggleEditMode}},[t._v(" Cancel ")])],1)]},proxy:!0}],null,!1,3681685611)})],1)]:t._e()],2)},W=[];n(9653),n(4048),n(1249),n(8309),n(9826),n(4553);function Y(t){var e=t.emails.filter((function(t){return Boolean(t.value)})),n=t.phones.filter((function(t){return Boolean(t.value)})),a=t.addresses.filter((function(t){return Boolean(t.value)}));return{emails:e,phones:n,addresses:a}}a["default"].use(_.ZP);var tt=new _.ZP.Store({state:{contacts:{data:[],currentId:1}},getters:{getContacts:function(t){return t.contacts},getContact:function(t){return function(e){return t.contacts.data.find((function(t){return t.id===e}))}}},mutations:{ADD_CONTACT:function(t,e){t.contacts.data=[].concat((0,k.Z)(t.contacts.data),[e]),t.contacts.currentId+=1},DELETE_CONTACT:function(t,e){t.contacts.data=t.contacts.data.filter((function(t){return t.id!==e}))},EDIT_CONTACT:function(t,e){var n=t.contacts.data.findIndex((function(t){return t.id===e.id})),r=(0,k.Z)(t.contacts.data);r[n]&&(r[n]=(0,g.Z)({},e)),a["default"].set(t,"contacts",(0,g.Z)((0,g.Z)({},t.contacts),{},{data:(0,k.Z)(r)}))}},actions:{addContact:function(t,e){var n=t.commit,a=t.state,r=a.contacts.currentId,o=Y(e);n("ADD_CONTACT",(0,g.Z)((0,g.Z)({id:r},e),o))},editContact:function(t,e){var n=t.commit,a=null===e||void 0===e?void 0:e.id;if(a){var r=Y(e);n("EDIT_CONTACT",(0,g.Z)((0,g.Z)({},e),r))}},deleteContact:function(t,e){var n=t.commit;e&&n("DELETE_CONTACT",e)}}}),et={name:"ContactView",beforeRouteEnter:function(t,e,n){var a,r,o=null===(a=tt.getters.getContacts)||void 0===a?void 0:a.data,i=Number(null===(r=t.params)||void 0===r?void 0:r.id);o.some((function(t){var e=t.id;return!Number.isNaN(i)&&e===i}))?n():n({name:"index"})},components:{VContactForm:B,BIconArrowLeft:E.CJy,BIconTelephone:E.aAC,BIconEnvelope:E.AzZ,BIconBuilding:E.pGS},data:function(){return{isEditMode:!1,editForm:null}},computed:(0,g.Z)((0,g.Z)({},(0,_.Se)(["getContact"])),{},{contactData:function(){var t,e=Number(null===(t=this.$route.params)||void 0===t?void 0:t.id);if(e)return this.getContact(e)}}),watch:{isEditMode:function(t){if(t){var e={},n=this.contactData.emails.map((function(t){return(0,g.Z)({},t)})),a=this.contactData.phones.map((function(t){return(0,g.Z)({},t)})),r=this.contactData.addresses.map((function(t){return(0,g.Z)({},t)}));e.phones=(0,k.Z)(a),e.emails=(0,k.Z)(n),e.addresses=(0,k.Z)(r),e.name=this.contactData.name,this.editForm=e}else this.editForm=null}},methods:(0,g.Z)((0,g.Z)({},(0,_.nv)({deleteContactAction:"deleteContact",editContactAction:"editContact"})),{},{deleteContact:function(){var t,e=null===(t=this.contactData)||void 0===t?void 0:t.id;e&&(this.deleteContactAction(e),this.$router.replace({name:"index"}))},toggleEditMode:function(){this.isEditMode=!this.isEditMode},onEditSubmit:function(t){this.editContactAction((0,g.Z)((0,g.Z)({},t),{},{id:this.contactData.id})),this.$refs.editForm.reset(),this.toggleEditMode()}})},nt=et,at=(0,i.Z)(nt,U,W,!1,null,null,null),rt=at.exports;a["default"].use(u.Z);var ot=[{path:"/",name:"index",component:v,redirect:{name:"contact-list"},children:[{name:"contact-list",path:"",component:Q},{name:"contact",path:":id",component:rt}]}],it=new u.Z({mode:"history",base:"/vue-contacts-list/",routes:ot}),st=it,ct=n(8262),lt=n(3266);n(44);a["default"].use(ct.XG7),a["default"].use(lt.A7),a["default"].config.productionTip=!1,new a["default"]({router:st,store:tt,render:function(t){return t(l)}}).$mount("#app")}},e={};function n(a){var r=e[a];if(void 0!==r)return r.exports;var o=e[a]={exports:{}};return t[a](o,o.exports,n),o.exports}n.m=t,function(){var t=[];n.O=function(e,a,r,o){if(!a){var i=1/0;for(u=0;u<t.length;u++){a=t[u][0],r=t[u][1],o=t[u][2];for(var s=!0,c=0;c<a.length;c++)(!1&o||i>=o)&&Object.keys(n.O).every((function(t){return n.O[t](a[c])}))?a.splice(c--,1):(s=!1,o<i&&(i=o));if(s){t.splice(u--,1);var l=r();void 0!==l&&(e=l)}}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[a,r,o]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,a){var r,o,i=a[0],s=a[1],c=a[2],l=0;if(i.some((function(e){return 0!==t[e]}))){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(c)var u=c(n)}for(e&&e(a);l<i.length;l++)o=i[l],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return n.O(u)},a=self["webpackChunkvue_contacts_list"]=self["webpackChunkvue_contacts_list"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(5774)}));a=n.O(a)})();
//# sourceMappingURL=app-legacy.83eb480d.js.map